(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},90501,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(57688),a=e.i(18566),n=e.i(68118);function s(){let{slug:e}=(0,a.useParams)(),s=(0,a.useRouter)(),{language:l}=(0,n.useLanguage)(),o="ar"===l,[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[j,y]=(0,r.useState)(""),[b,x]=(0,r.useState)(""),[S,v]=(0,r.useState)(!1),[N,C]=(0,r.useState)(!1),[P,T]=(0,r.useState)(!1),O={"55-B":{current:32335,before:43320},"65-B":{current:38988,before:43320},"75-B":{current:55555,before:60420},"85-B":{current:94639,before:99620},"55-H":{current:38053,before:43320},"65-H":{current:44688,before:49020},"75-H":{current:61255,before:66120},"85-H":{current:100339,before:105320},TACT:{current:7200,before:1e4}},q="",I=1,w=0,E=0,k="/images/default.jpg";if("string"==typeof e&&e.match(/(\d+)-Inches-(H|B)-\d+/)){let t=e.match(/(\d+)-Inches-(H|B)-(\d+)/);if(t){let e=t[1],r=t[2];I=Number(t[3]);let i=`${e}-${r}`;({current:w,before:E}=O[i]||{}),q=`TACT Panel ${e} Inches-${r}`,k="H"===r?"/images/tact-panel-h/4-2.webp":"/images/tact-panel-b/2-6.webp"}}else if("string"==typeof e){let t=e.split("-");if(t.length>1){I=Number(t.pop());let e=t.join("-");q=e,({current:w,before:E}=O[e]||{}),k="/images/tact/main.webp"}}let B=Math.round(Number(w)*Number(I)),J=q,D=I,H=w,U=k,G=e=>{sessionStorage.setItem("checkoutData",JSON.stringify({firstName:c,lastName:u,email:p,phone:f,city:j,state:b,productName:J,quantity:D,price:H,paymentStatus:e}))},L=async()=>{if(!c||!u||!p||!f||!j||!b)return void alert(o?"من فضلك املأ كل الحقول المطلوبة":"Please fill all required fields");if(!P){v(!0);try{G("COD"),await fetch("/api/sendEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(JSON.parse(sessionStorage.getItem("checkoutData")))}),T(!0),s.push("/thanks")}catch(e){console.error(e),alert(o?"حدث خطأ أثناء تسجيل الطلب":"Error processing order")}finally{v(!1)}}},_=async()=>{if(!c||!u||!p||!f||!j||!b)return void alert(o?"من فضلك املأ كل الحقول المطلوبة":"Please fill all required fields");if(!P){C(!0);try{G("PENDING");let e=await fetch("/api/paymob",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:B,currency:"EGP",product_name:J,quantity:I,billing_data:{first_name:c,last_name:u,email:p,phone_number:f,city:j,state:b,country:"Egypt"}})}),t=await e.json();t.success&&t.iframeUrl?window.location.href=t.iframeUrl:(G("Unpaid"),await fetch("/api/sendEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(JSON.parse(sessionStorage.getItem("checkoutData")))}),T(!0),s.push("/failure"))}catch(e){console.error(e),G("Unpaid"),P||(await fetch("/api/sendEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(JSON.parse(sessionStorage.getItem("checkoutData")))}),T(!0)),s.push("/failure")}finally{C(!1)}}},A={deliveryInfo:o?"معلومات التوصيل":"Delivery Information",firstName:o?"الاسم الأول":"First name",lastName:o?"الاسم الأخير":"Last name",email:o?"البريد الإلكتروني":"Email",phone:o?"رقم الهاتف":"Phone number",city:o?"المدينة":"City",state:o?"المحافظة":"State",continue:o?"المتابعة للدفع":"Continue to payment",cod:o?"الدفع عند الاستلام":"Payment upon receipt",orderSummary:o?"ملخص الطلب":"Order Summary",qty:o?"الكمية":"Qty",subtotal:o?"المجموع الفرعي":"Subtotal",shipping:o?"الشحن":"Shipping",freeShipping:o?"شحن مجاني":"Free Shipping",total:o?"الإجمالي":"Total"};return(0,t.jsxs)("section",{className:"checkout",dir:o?"rtl":"ltr",children:[(0,t.jsxs)("form",{children:[(0,t.jsx)("h2",{children:A.deliveryInfo}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:A.firstName}),(0,t.jsx)("input",{value:c,onChange:e=>d(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:A.lastName}),(0,t.jsx)("input",{value:u,onChange:e=>h(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:A.email}),(0,t.jsx)("input",{type:"email",value:p,onChange:e=>m(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:A.phone}),(0,t.jsx)("input",{value:f,onChange:e=>g(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:A.city}),(0,t.jsx)("input",{value:j,onChange:e=>y(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:A.state}),(0,t.jsx)("input",{value:b,onChange:e=>x(e.target.value),required:!0})]}),(0,t.jsx)("button",{type:"button",onClick:_,disabled:N,children:N?"Processing..":A.continue}),(0,t.jsx)("button",{type:"button",onClick:L,disabled:S,children:S?"Processing..":A.cod})]}),(0,t.jsxs)("div",{className:"order-summary",children:[(0,t.jsx)("h2",{children:A.orderSummary}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"product-Image",children:(0,t.jsx)(i.default,{src:U,alt:J,width:200,height:200,priority:!0})}),(0,t.jsxs)("div",{className:"product-info",children:[(0,t.jsx)("h4",{children:J}),(0,t.jsxs)("span",{children:[A.qty,": ",(0,t.jsx)("b",{children:D})]}),(0,t.jsxs)("p",{children:[H.toLocaleString()," ","EGP"]})]})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:A.subtotal}),(0,t.jsxs)("span",{children:[B.toLocaleString()," ","EGP"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:A.shipping}),(0,t.jsx)("span",{children:A.freeShipping})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:A.total}),(0,t.jsxs)("span",{children:[B.toLocaleString()," ","EGP"]})]})]})]})}e.s(["default",()=>s])}]);